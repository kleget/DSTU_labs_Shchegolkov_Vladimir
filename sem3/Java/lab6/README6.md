# Лабораторная 6 — краткое объяснение

Все задания сделаны на Java с использованием библиотеки Swing (GUI).  
Ниже — соответствие «задание → файл» и короткое описание логики на уровне, понятном после Python.

## Задание 1 — график sin(x) на [-π; π]

- Файл: `Task1SinePlot.java`
- Класс `Task1SinePlot` наследует `JFrame` (это окно). В конструкторе в окно добавляется внутренняя панель `SimpleSinePanel`, задаётся размер 300×300.
- В `SimpleSinePanel.paintComponent(Graphics g)` вызывается отрисовка: по X от `start` до `end` (−π до π), по шагам вычисляется `y = Math.sin(x)` и рисуются отрезки между соседними точками. Это почти как цикл с `matplotlib`, только рисование идёт напрямую по пикселям.

## Задание 2 — класс Curve и график sin(x) на [0; 2π]

- Файл: `Curve.java` + демонстрация `Task2CurveDemo.java`.
- `Curve` — простой класс-хранилище точек: два массива `xs` и `ys`, методы `setData` (табулирует функцию по шагу) и `draw` (рисует ломаную линию по этим точкам в прямоугольнике).
- В `Task2CurveDemo` создаётся `Curve`, туда через `setData(Math::sin, 0, 2*Math.PI, 400)` записывается sin(x) на [0; 2π]. Внутренний класс `CurvePanel` просто вызывает `curve.draw(...)` внутри `paintComponent`.

## Задание 3 — система Graph/Axis/Curve

- Файлы: `Axis.java`, `Graph.java`, `Curve.java`, демонстрация `Task3GraphDemo.java`.
- `Axis` хранит только направление (горизонтальная/вертикальная ось) и диапазон (min, max) и умеет рисовать ось по границе области.
- `Graph` хранит одну ось X, одну ось Y и список кривых (`List<Curve>`). В методе `draw(...)` рисует прямоугольную область, оси и все кривые.
- `Task3GraphDemo` создаёт `Axis` для X (0..2π) и Y (−1.5..1.5), одну `Curve` с sin(x) и показывает всё это в окне. Логика похожа на «обёртку» вокруг задания 2.

## Задание 4 — координаты мыши и смена цвета

- Файл: `Task4MouseCoordinates.java`
- Окно `Task4MouseCoordinates` добавляет панель `CoordinatesPanel`.
- В `CoordinatesPanel`:
  - Переменная `point` — последняя точка клика.
  - Переменная `color` — текущий цвет текста.
  - На `mouseClicked` сохраняется `point = e.getPoint()` и вызывается `repaint()`.
  - На `keyTyped` по символам `b, w, r, g, o` меняется `color` (чёрный, белый, красный, зелёный, оранжевый).
  - В `paintComponent` при наличии `point` выводится текст `"x, y"` рядом с точкой и рисуется маленький кружок.

## Задание 5 — загрузка и поворот изображения

- Файл: `Task5ImageViewer.java`
- В конструкторе окна загружается `sample.jpg` из пакета `lab6` через `getResource("sample.jpg")`.
- Внутренний класс `ImagePanel` хранит `BufferedImage image` и флаг `rotated`.
- При щелчке мышью флаг `rotated` переключается, вызывается `repaint()`.
- В `paintComponent` считается размер, создаётся повернутая копия через `rotate180(image)` (вращение на 180°), подгоняется под окно с сохранением пропорций и рисуется.

## Задание 6 — фильтры (поворот, серый, размытие)

- Файл: `Task6ImageFilters.java`
- Окно добавляет `FilterPanel`, где:
  - `image` — текущее изображение.
  - `mode` — текущий фильтр: `'r'` (rotate), `'g'` (gray), `'b'` (blur).
  - `rotated` — флаг, нужно ли показывать картинку повернутой.
  - `grayApplied` — чтобы серый фильтр применялся только один раз.
- Клавиатура:
  - `keyTyped` → по `r/g/b` меняется `mode`.
- Мышь:
  - `mouseClicked` → вызывается `applySelectedFilter()`:
    - `'r'`: просто переключает `rotated` (поворот на 180° при отрисовке).
    - `'g'`: если ещё не применяли, проход по всем пикселям, замена `r,g,b` на среднее (чёрно-белое изображение).
    - `'b'`: сейчас реализовано как сильное размытие: сначала считается средний цвет по всей картинке, потом все пиксели заливаются этим средним цветом (по сути «супер-размытое» изображение).
- `paintComponent` — рисует текущую версию `image` (возможно, повернутую), масштабируя в окно с сохранением пропорций.

## Задание 7 — анимация шариков

- Файл: `Task7BouncingBalls.java`
- Внутренний `BallPanel`:
  - Список шаров `List<Ball>` (каждый шар — координаты `x, y` и скорости `dx, dy`).
  - Таймер `Timer` на ~60 FPS вызывает `tick()`: шарики сдвигаются по `dx, dy`, при выходе за границы меняется знак скорости (отскок от стенки).
  - Щелчок мышью добавляет шар с начальной позицией в точке клика и скоростью под 45° (компоненты скорости одинаковые по модулю с разными знаками).
- В `paintComponent` просто заполняется фон и рисуются красные круги по координатам шаров.

## Задание 8 — бегущая строка

- Файл: `Task8Marquee.java`
- Внутренний класс `MarqueePanel`:
  - Массив строк `messages` — набор фраз.
  - Переменная `currentMessage` и текущая координата `x` текста.
  - Таймер `Timer` смещает `x` вправо, если текст ушёл за правую границу — переносит его влево за экран.
  - По щелчку мышью случайным образом выбирается другая строка и `x` сбрасывается в начало.
- В `paintComponent` строка рисуется зелёным по центру по вертикали.

## Как это запускать

Все классы имеют метод `public static void main`. Запуск из каталога `sem3/Java`:

```bash
javac lab6/*.java      # компиляция
java lab6.Task1SinePlot
java lab6.Task2CurveDemo
java lab6.Task3GraphDemo
java lab6.Task4MouseCoordinates
java lab6.Task5ImageViewer
java lab6.Task6ImageFilters
java lab6.Task7BouncingBalls
java lab6.Task8Marquee
```

Если сравнивать с Python:
- `JFrame` ≈ окно `Tkinter`/`PyQt`.
- `paintComponent(Graphics g)` ≈ функция отрисовки, куда передаётся объект «холста».
- `Timer` ≈ периодический вызов функции (как `after` в Tkinter).
- Обработчики `mouseClicked`/`keyTyped` работают как `bind` на события в Python GUI. 
